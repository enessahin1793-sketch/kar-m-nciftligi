<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Enes â™¥ Yasemin Ã‡iftliÄŸi</title>
<style>
body{margin:0;overflow:hidden;font-family:Arial}
#ui{
 position:fixed;top:10px;left:10px;
 background:rgba(255,255,255,.95);
 padding:10px;border-radius:12px;z-index:10
}
button{margin:2px}
#joystick{
 position:fixed;bottom:20px;left:20px;
 width:120px;height:120px;
 background:rgba(255,255,255,.25);
 border-radius:50%;
 touch-action:none;
}
#stick{
 position:absolute;left:40px;top:40px;
 width:40px;height:40px;
 background:white;border-radius:50%;
}
</style>
</head>

<body>

<div id="ui">
ğŸ’° <span id="money">200</span><br>
ğŸŒ½ <span id="corn">0</span>
ğŸ¥” <span id="potato">0</span><br>
ğŸ¥› <span id="milk">0</span>
ğŸ¥š <span id="egg">0</span><br><br>

<button onclick="plant('corn')">ğŸŒ½ MÄ±sÄ±r E</button>
<button onclick="plant('potato')">ğŸ¥” Patates E</button><br>
<button onclick="buyCow()">ğŸ„ Ä°nek Al (100)</button>
<button onclick="milkCow()">ğŸ¥› SÃ¼t SaÄŸ</button><br>
<button onclick="buyChicken()">ğŸ” Tavuk Al (50)</button><br>
<button onclick="sellAll()">ğŸ›’ Hepsini Sat</button>
</div>

<!-- JOYSTICK -->
<div id="joystick">
 <div id="stick"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
/* === VERÄ° === */
let money=200,corn=0,potato=0,milk=0,egg=0;
let cows=[],chickens=[];
const tile=1.3;

/* === UI === */
const moneyEl=document.getElementById("money");
const cornEl=document.getElementById("corn");
const potatoEl=document.getElementById("potato");
const milkEl=document.getElementById("milk");
const eggEl=document.getElementById("egg");
function updateUI(){
 moneyEl.textContent=money;
 cornEl.textContent=corn;
 potatoEl.textContent=potato;
 milkEl.textContent=milk;
 eggEl.textContent=egg;
}

/* === THREE === */
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x87ceeb);
const cam=new THREE.PerspectiveCamera(70,innerWidth/innerHeight,.1,1000);
cam.position.set(0,6,6);
const r=new THREE.WebGLRenderer({antialias:true});
r.setSize(innerWidth,innerHeight);
document.body.appendChild(r.domElement);
scene.add(new THREE.AmbientLight(0xffffff,.7));
const sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(10,20,10);
scene.add(sun);

/* === ZEMÄ°N === */
for(let x=-6;x<=6;x++)
for(let z=-6;z<=6;z++){
 const t=new THREE.Mesh(
  new THREE.PlaneGeometry(tile,tile),
  new THREE.MeshStandardMaterial({color:0x55aa55})
 );
 t.rotation.x=-Math.PI/2;
 t.position.set(x*tile,0,z*tile);
 scene.add(t);
}

/* === KIZ === */
const girl=new THREE.Group();
const head=new THREE.Mesh(
 new THREE.SphereGeometry(.3,32,32),
 new THREE.MeshStandardMaterial({color:0xffe0bd})
);
head.position.y=1.6;
const hair=new THREE.Mesh(
 new THREE.SphereGeometry(.34,32,32),
 new THREE.MeshStandardMaterial({color:0x000})
);
hair.position.y=1.7;
const body=new THREE.Mesh(
 new THREE.CylinderGeometry(.25,.3,.9,32),
 new THREE.MeshStandardMaterial({color:0xff69b4})
);
body.position.y=1.1;
girl.add(head,hair,body);
scene.add(girl);

/* === KLAVYE (PC) === */
const keys={};
addEventListener("keydown",e=>keys[e.key]=true);
addEventListener("keyup",e=>keys[e.key]=false);

/* === JOYSTICK (MOBÄ°L) === */
const joy=document.getElementById("joystick");
const stick=document.getElementById("stick");
let joyX=0, joyY=0;

joy.addEventListener("touchmove",e=>{
 e.preventDefault();
 const r=60;
 const rect=joy.getBoundingClientRect();
 let x=e.touches[0].clientX-rect.left-r;
 let y=e.touches[0].clientY-rect.top-r;
 const d=Math.hypot(x,y);
 if(d>r){x=x/d*r;y=y/d*r;}
 stick.style.left=x+r-20+"px";
 stick.style.top=y+r-20+"px";
 joyX=x/r;
 joyY=y/r;
});
joy.addEventListener("touchend",()=>{
 stick.style.left="40px";
 stick.style.top="40px";
 joyX=joyY=0;
});

/* === HAREKET === */
function move(){
 const s=0.05;
 if(keys.w) girl.position.z-=s;
 if(keys.s) girl.position.z+=s;
 if(keys.a) girl.position.x-=s;
 if(keys.d) girl.position.x+=s;

 girl.position.x+=joyX*s;
 girl.position.z+=joyY*s;
}

/* === TARIM / HAYVAN / SATIÅ === */
function plant(t){if(money<5)return;money-=5;setTimeout(()=>{t==="corn"?corn++:potato++;updateUI()},5000);updateUI()}
function buyCow(){if(money<100)return;money-=100;updateUI()}
function milkCow(){milk++;updateUI()}
function buyChicken(){if(money<50)return;money-=50;updateUI();setInterval(()=>{egg++;updateUI()},8000)}
function sellAll(){money+=corn*5+potato*6+milk*10+egg*3;corn=potato=milk=egg=0;updateUI()}

/* === LOOP === */
function anim(){
 requestAnimationFrame(anim);
 move();
 cam.position.x=girl.position.x;
 cam.position.z=girl.position.z+6;
 cam.lookAt(girl.position);
 r.render(scene,cam);
}
anim();
</script>
</body>
</html>
